<div class="header bg-gradient-danger pb-8 pt-5 pt-md-8">
  <div class="container-fluid">
    <div class="header-body">
      <!-- Card stats -->
      <div class="row">
        
        
      </div>
    </div>
  </div>
</div>
<div class="container-fluid mt--7">
  <!-- Table -->
  <div class="row">
    <div class="col">
      <div class="card shadow">
        <div class="card-header border-0">
          <h3 class="mb-0"><div class="header bg-gradient-danger pb-8 pt-5 pt-md-8">
  <div class="container-fluid">
    <div class="header-body">
      <!-- Card stats -->
      <div class="row">
        
        
      </div>
    </div>
  </div>
</div>
<div class="container-fluid mt--7">
  <!-- Table -->
  <div class="row">
    <div class="col">
      <div class="card shadow">
        <div class="card-header border-0">
          <h3 class="mb-0">Etudiant :</h3>
        </div>
        <form [formGroup]="etudiantForm" style="align-items:center">
          <div class="form-group">
            <div class="form-group" >
              <label>Nom</label>
              <div class="col-sm-8">
                <input class="form-control" formControlName="nom" [(ngModel)]="selectedEtudiant.nom"  placeholder="Nom">
              </div>
            </div>   

            <div class="form-group">
                <label>Prenom</label>
                <div class="col-sm-8">
                  <input class="form-control" formControlName="prenom" [(ngModel)]="selectedEtudiant.prenom"  placeholder="Prenom">
                </div>
              </div> 

              <div class="form-group" >
                  <label>email</label>
                  <div class="col-sm-8">
                    <input class="form-control" formControlName="email" [(ngModel)]="selectedEtudiant.email"  placeholder="Email">
                  </div>
                </div> 
            
              <div class="form-group" >
                <label>Telephone</label>
                <div class="col-sm-8">
                  <input  class="form-control" formControlName="telephone" [(ngModel)]="selectedEtudiant.telephone"  placeholder="Telephone">
                </div>

              <div class="form-group" >
                  <label>CIN</label>
                  <div class="col-sm-8">
                    <input class="form-control" formControlName="cin" [(ngModel)]="selectedEtudiant.cin"  placeholder="CIN">
                  </div>
                </div>   

                <div class="form-group" >
                    <label>Adresse</label>
                    <div class="col-sm-8">
                      <input class="form-control" formControlName="adresse" [(ngModel)]="selectedEtudiant.adresse"  placeholder="Adresse">
                    </div>
                  </div>  
                
                <div class="form-group" >
                    <label>Date Naissance</label>
                    <div class="col-sm-8">
                      <input type="date" class="form-control" formControlName="dateNaissance" [(ngModel)]="selectedEtudiant.dateNaissance">
                    </div>
                </div>

                <div class="form-group" >
                  <label>Code Inscription</label>
                  <div class="col-sm-8">
                    <input class="form-control" formControlName="codeInscription" [(ngModel)]="selectedEtudiant.codeInscription"  placeholder="CodeInscription">
                  </div>
                </div>

                <div class="form-group">
                  <label class="col-sm-2 col-form-label">Sujet</label>
                  <div class="col-sm-8">
                    <select class="form-control" formControlName="sujet" (change)="findSujetById(selectedEtudiant.sujet)"
                        [(ngModel)]="selectedEtudiant.sujet">
                      <option disabled="disabled">Sélectionnez Sujet</option>
                      <option *ngFor="let sujet of sujets" [value]="sujet.id">{{sujet.nom}}</option>
                    </select>
                  </div>
                </div>

                <div class="form-group">
                  <label class="col-sm-2 col-form-label">Specialite</label>
                  <div class="col-sm-8">
                    <select class="form-control" formControlName="specialite" (change)="findSpecialiteById(selectedEtudiant.specialite)"
                        [(ngModel)]="selectedEtudiant.specialite">
                      <option disabled="disabled">Sélectionnez Specialite</option>
                      <option *ngFor="let specialite of specialites" [value]="specialite.id">{{specialite.nom}}</option>
                    </select>
                  </div>
                </div>
              
            </div>
            <div class="form-group">
                <button class="btn btn-primary" (click)="operation == 'add' ? addEtudiant() : updateEtudiant()">
                    {{operation == 'add' ? 'Ajouter' :
                    operation == 'edit' ? 'Modifier' : ''}}
                </button>
            </div>

          </div>
        </form>
       
      </div>
    </div>
  </div>

  <!-- Dark table -->
  <div class="row mt-5">
    <div class="col">
      
    </div>
  </div>

  <div class="row">
    <div class="card shadow">
      <div class="card-header border-0">
        <div class="row align-items-center">
          <div class="col">
            <h3 class="mb-0">Liste des Etudiants</h3>
          </div>
        </div>
      </div>
      <div class="table-responsive">
        <!-- Projects table -->
        <table class="table align-items-center table-flush">
          <thead class="thead-light">
              <th scope="col">ID</th>
              <th scope="col">
                NOM
              </th>
              <th scope="col">
                PRENOM
              </th>
              <th scope="col">
                EMAIL
              </th>
              <th scope="col">
                TELEPHONE
              </th>
              <th scope="col">
                CIN
              </th>
              <th scope="col">
                ADRESSE
              </th>
              <th scope="col">
                DATENAISSANCE
              </th>
              <th scope="col">
                CODE INSCRIPTION
              </th>
              <th scope="col">
                SUJET
              </th>
              <th scope="col">
                SPECIALITE
              </th>
              <th scope="col">
                MODIFIER
              </th>
              <th scope="col">
                SUPPRIMER
              </th>
          </thead>
          <tbody>
              <tr *ngFor="let etudiant of etudiants">
                <td>{{etudiant.id}}</td>
                <td>{{etudiant.nom}}</td>
                <td>{{etudiant.prenom}}</td>
                <td>{{etudiant.email}}</td>
                <td>{{etudiant.telephone}}</td>
                <td>{{etudiant.cin}}</td>
                <td>{{etudiant.adresse}}</td>
                <td>{{etudiant.dateNaissance}}</td>
                <td>{{etudiant.codeInscription}}</td>
                <td>{{etudiant.sujet.nom}}</td>
                <td>{{etudiant.specialite.nom}}</td>
                <td><button class="btn btn-outline-warning"  (click)="selectedEtudiant=etudiant ;operation='edit';">Modifier</button></td>
                <td><button class="btn btn-outline-danger" (click)="selectedEtudiant=etudiant ; deleteEtudiant()" >Supprimer</button></td>
              </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>